<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1100" d:DesignHeight="720"
        x:Class="AmosLikeBasic.MainWindow"
        Title="AMOS Professional IDE"
        Background="#00134D"
        Width="1024" Height="768" 
        WindowStartupLocation="CenterScreen">
    <DockPanel>

        <!-- Top Menu -->
        <Menu Name="TopMenu" DockPanel.Dock="Top" Focusable="False">
            <MenuItem Header="_Project">
                <MenuItem Header="New" Click="NewProject_OnClick"/>
                <MenuItem Header="Open..." Click="OpenProject_OnClick"/>
                <Separator/>
                <MenuItem Header="Exit"/>
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="Cut"/>
                <MenuItem Header="Copy"/>
                <MenuItem Header="Paste"/>
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Header="Toggle Fullscreen (F10)" Click="ToggleFullscreen_OnClick"/>
                <MenuItem Header="Reset Layout"/>
            </MenuItem>
            <MenuItem Header="Themes">
                <MenuItem Header="Classic AMOS" Click="ChangeTheme_OnClick" Tag="Classic"/>
                <MenuItem Header="Workbench" Click="ChangeTheme_OnClick" Tag="Workbench"/>
                <MenuItem Header="Emerald" Click="ChangeTheme_OnClick" Tag="Emerald"/>
                <MenuItem Header="Neon Night" Click="ChangeTheme_OnClick" Tag="NeonNight"/>
                <MenuItem Header="Catppuccin Mocha" Click="ChangeTheme_OnClick" Tag="CatppuccinMocha"/>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="About"/>
            </MenuItem>
        </Menu>

        <Border Name="AmosTitleBar" DockPanel.Dock="Top" Background="#FFD400" Height="30" VerticalAlignment="Top">
            <Grid ColumnDefinitions="Auto, *, Auto">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="10" Margin="10,0">
                    <TextBlock Name="FileNameText" Text="Untitled" Foreground="Black" FontWeight="Bold" VerticalAlignment="Center"/>
                    <TextBlock Text="v1.0" Foreground="#666" VerticalAlignment="Center" FontSize="10"/>
                </StackPanel>
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="20" Margin="10,0">
                    <TextBlock Text="640x480" Foreground="Black" VerticalAlignment="Center" FontSize="12"/>
                    <TextBlock Text="FREE: 512 KB" Foreground="Black" VerticalAlignment="Center" FontSize="12"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Toolbar -->
        <Border Name="ToolbarBorder" DockPanel.Dock="Top" Background="#0A2D8F" Padding="5" BorderBrush="#7FB2FF" BorderThickness="0,0,0,2">
            <StackPanel Orientation="Horizontal" Spacing="10">
                <Button x:Name="RunButton" Classes="amos-button" Content="[ RUN ]" Background="#00CC00" Foreground="White" Click="RunButton_OnClick" Focusable="False"/>
                <Button x:Name="PauseButton" Classes="amos-button" Content="[ PAUSE ]" Background="#CC6600" Foreground="White" Click="PauseButton_OnClick" IsEnabled="False" Focusable="False"/>
                <Button x:Name="StepButton" Classes="amos-button" Content="[ STEP ]" Background="#0066CC" Foreground="White" Click="StepButton_OnClick" IsEnabled="False" Focusable="False"/>
                <Button x:Name="StopButton" Classes="amos-button" Content="[ STOP ]" Background="#CC0000" Foreground="White" Click="StopButton_OnClick" IsEnabled="False" Focusable="False"/>
                <Separator Background="#7FB2FF" Width="2"/>
                <Button Classes="amos-button" Content="LOAD" Click="OpenProject_OnClick" Background="#0A2D8F" Foreground="White" Focusable="False"/>
                <Button Classes="amos-button" Content="SAVE" Click="SaveProject_OnClick" Background="#0A2D8F" Foreground="White" Focusable="False"/>
                <Separator Background="#7FB2FF" Width="2"/>
                <Button Classes="amos-button" Content="SPRITES" Click="SpritesButton_OnClick" Background="#0A2D8F" Foreground="White" Focusable="False"/>
                <Button Classes="amos-button" Content="MAP" Click="MapButton_OnClick" Background="#0A2D8F" Foreground="White" Focusable="False"/>
                <Button Classes="amos-button" Content="CONSOLE" Click="ToggleConsole_OnClick" Background="#0A2D8F" Foreground="White" Focusable="False"/>
            </StackPanel>
        </Border>
    
        <!-- Main Workspace -->
        <Grid ColumnDefinitions="*, Auto">
            <!-- Left side: Editor -->
            <Grid Grid.Column="0" RowDefinitions="*, 4, 150">
                <Grid Grid.Row="0" RowDefinitions="*, Auto" KeyboardNavigation.TabNavigation="None">
                    <TextBox Grid.Row="0" x:Name="Editor" Classes="amos-editor" AcceptsReturn="True" AcceptsTab="True" BorderThickness="0" Padding="10"/>
                    <TextBlock Grid.Row="1" Name="CursorPosText" 
                               Text="Line: 1, Col: 1" 
                               Foreground="#7FB2FF" 
                               Padding="10,2" 
                               Background="#06206F" 
                               FontSize="12"
                               FontFamily="Courier New"/>
                </Grid>
                <GridSplitter Grid.Row="1" Background="#7FB2FF" ResizeDirection="Rows" HorizontalAlignment="Stretch"/>
                <Border Grid.Row="2" Background="#000A26" BorderBrush="#7FB2FF" BorderThickness="0,2,0,0">
                    <TextBox x:Name="LogBox" 
                             Foreground="#7FB2FF"
                             Background="Transparent"
                             IsReadOnly="True"
                             FontSize="12"
                             FontFamily="Courier New"
                             BorderThickness="0"/>
                </Border>
            </Grid>

            <!-- Right side: Variable Watch -->
            <Border Name="VariableWatchPanel" Grid.Column="1" Width="250" Background="#00134D" BorderBrush="#7FB2FF" BorderThickness="2,0,0,0">
                <DockPanel>
                    <Border DockPanel.Dock="Top" Background="#06206F" Padding="5">
                        <StackPanel>
                            <TextBlock Text="VARIABLE WATCH [F9]" Foreground="Yellow" FontWeight="Bold"/>
                            <TextBlock Name="StatusText" Text="Status: Idle" Foreground="#7FB2FF" FontSize="11" Margin="0,5,0,0"/>
                            <TextBlock Name="CurrentLineText" Text="Line: -" Foreground="Lime" FontWeight="Bold" FontSize="14" Margin="0,2,0,0"/>
                        </StackPanel>
                    </Border>
                    <ListBox Name="VariableListBox" 
                                 Background="Transparent" 
                                 Foreground="#7FB2FF"
                                 FontFamily="Courier New"
                                 FontSize="12">
                        <ListBox.ItemTemplate>
                            <DataTemplate x:CompileBindings="False">
                                <Grid ColumnDefinitions="*, Auto">
                                    <TextBlock Text="{Binding Key}" FontWeight="Bold"/>
                                    <TextBlock Grid.Column="1" Text="{Binding Value}" Foreground="White" Margin="10,0,0,0"/>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </DockPanel>
            </Border>
        </Grid>
    </DockPanel>
</Window>